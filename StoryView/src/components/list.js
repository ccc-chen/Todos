// Generated by CoffeeScript 2.1.1
var CFX, CheckboxItem, alert, list, prompt;

import {
  prefixDom
} from 'cfx.dom';

import React, {
  Component
} from 'react';

import {
  List,
  Checkbox,
  SwipeAction,
  Modal
} from 'antd-mobile';

({prompt, alert} = Modal);

CheckboxItem = Checkbox.CheckboxItem;

CFX = prefixDom({List, SwipeAction, CheckboxItem});

// prompt
list = class list extends Component {
  render() {
    var Delete, DeletePress, Patch, PatchPress, c_CheckboxItem, c_List, c_SwipeAction, hasClick, onChange, onPressDelete, onPressEdit, styleChange, styleComp;
    ({c_List, c_CheckboxItem, c_SwipeAction} = CFX);
    hasClick = this.props.hasClick != null ? this.props.hasClick : (hasClick) => {
      console.log('pls run hasClick function!');
      return console.log(hasClick);
    };
    Delete = this.props.Delete != null ? this.props.Delete : (Delete) => {
      console.log('pls run Delete function!');
      return console.log(Delete);
    };
    Patch = this.props.Patch != null ? this.props.Patch : (Patch) => {
      console.log('pls run Patch function!');
      return console.log(Patch);
    };
    styleChange = this.props.styleChange != null ? this.props.styleChange : (styleChange) => {
      console.log('pls run styleChange function!');
      return console.log(styleChange);
    };
    onChange = function(objectId, todo, isCompleted) {
      hasClick(objectId, todo, isCompleted);
      return styleComp(objectId, isCompleted);
    };
    DeletePress = function(objectId) {
      return Delete(objectId);
    };
    PatchPress = function(objectId, todo) {
      return Patch(objectId, todo);
    };
    onPressEdit = function(objectId, todo) {
      console.log(objectId, todo);
      return prompt('defaultValue', 'defaultValue for prompt', [
        {
          text: 'Cancel'
        },
        {
          text: 'Submit',
          onPress: (value) => {
            return PatchPress(objectId,
        value);
          }
        }
      ], 'default', todo);
    };
    onPressDelete = function(objectId) {
      console.log('删除的id是:', objectId);
      return alert('Delete', 'Are you sure???', [
        {
          text: 'Cancel',
          onPress: () => {
            return console.log('cancel');
          }
        },
        {
          text: 'Ok',
          onPress: () => {
            return DeletePress(objectId);
          }
        }
      ]);
    };
    styleComp = function(objectId, isCompleted) {
      return styleChange(objectId, isCompleted);
    };
    return c_List.apply(this, [
      {
        renderHeader: ' ',
        className: 'my-list'
      },
      ...(this.props.data.reduce((r,
      c) => {
        return [
          ...r,
          c_SwipeAction({
            right: [
              {
                text: '编辑',
                onPress: function() {
                  return onPressEdit(c.objectId,
              c.todo);
                },
                style: {
                  background: '#ddd',
                  color: 'white'
                }
              },
              {
                text: '删除',
                onPress: function() {
                  return onPressDelete(c.objectId);
                },
                style: {
                  background: '#F4333C',
                  color: 'white'
                }
              }
            ]
          },
          c_CheckboxItem({
            objectId: c.objectId,
            style: styleComp(c.objectId,
          c.isCompleted),
            onChange: function() {
              return onChange(c.objectId,
          c.todo,
          c.isCompleted);
            },
            checked: c.isCompleted
          },
          c.todo))
        ];
      },
      []))
    ]);
  }

};

export default list;
