// Generated by CoffeeScript 2.1.1
var CFX, todosStore;

import {
  storiesOf
} from '@storybook/react';

import {
  prefixDom
} from 'cfx.dom';

import 'antd-mobile/dist/antd-mobile.css';

import Todos from '../components';

import {
  Provider
} from 'cfx.react-redux';

import {
  store
} from 'ReduxServ';

todosStore = store.store;

CFX = prefixDom({Todos, Provider});

export default function() {
  return storiesOf('Todos', module).addDecorator(function(story) {
    var c_Provider;
    ({c_Provider} = CFX);
    return c_Provider({
      store: todosStore
    }, story());
  }).add('Todos', () => {
    var c_Todos;
    ({c_Todos} = CFX);
    return c_Todos({
      Packet: function(bool, data) {
        var newTemp;
        console.log('hello');
        data = store.store.getState().todosRedux.todos;
        newTemp = [];
        return data.reduce((r, c, _index, array) => {
          var temp;
          if (c.isCompleted === bool) {
            temp = JSON.parse(JSON.stringify(array));
            newTemp.push(temp[_index]);
          }
          return newTemp;
        }, null);
      }
    });
  });
};
